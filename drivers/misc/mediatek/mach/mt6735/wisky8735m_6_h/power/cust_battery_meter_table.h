#ifndef _CUST_BATTERY_METER_TABLE_H
#define _CUST_BATTERY_METER_TABLE_H

#include <mach/mt_typedefs.h>

// ============================================================
// define
// ============================================================
#define BAT_NTC_10 1
#define BAT_NTC_47 0

#if (BAT_NTC_10 == 1)
#define RBAT_PULL_UP_R             16900	
#endif

#if (BAT_NTC_47 == 1)
#define RBAT_PULL_UP_R             61900	
#endif

#define RBAT_PULL_UP_VOLT          1800



// ============================================================
// ENUM
// ============================================================

// ============================================================
// structure
// ============================================================

// ============================================================
// typedef
// ============================================================
typedef struct _BATTERY_PROFILE_STRUC
{
    kal_int32 percentage;
    kal_int32 voltage;
} BATTERY_PROFILE_STRUC, *BATTERY_PROFILE_STRUC_P;

typedef struct _R_PROFILE_STRUC
{
    kal_int32 resistance; // Ohm
    kal_int32 voltage;
} R_PROFILE_STRUC, *R_PROFILE_STRUC_P;

typedef enum
{
    T1_0C,
    T2_25C,
    T3_50C
} PROFILE_TEMPERATURE;

// ============================================================
// External Variables
// ============================================================

// ============================================================
// External function
// ============================================================

// ============================================================
// <DOD, Battery_Voltage> Table
// ============================================================
#if (BAT_NTC_10 == 1)
    BATT_TEMPERATURE Batt_Temperature_Table[] = {
        {-20,72970},
        {-15,56830},
        {-10,44610},
        { -5,35300},
        {  0,28130},
        {  5,22580},
        { 10,18250},
        { 15,14840},
        { 20,12150},
        { 25,10000},
        { 30,8280},
        { 35,6890},
        { 40,5770},
        { 45,4850},
        { 50,4100},
        { 55,3480},
        { 60,2960}
    };
#endif

#if (BAT_NTC_47 == 1)
    BATT_TEMPERATURE Batt_Temperature_Table[] = {
        {-20,483954},
        {-15,360850},
        {-10,271697},
        { -5,206463},
        {  0,158214},
        {  5,122259},
        { 10,95227},
        { 15,74730},
        { 20,59065},
        { 25,47000},
        { 30,37643},
        { 35,30334},
        { 40,24591},
        { 45,20048},
        { 50,16433},
        { 55,13539},
        { 60,11210}        
    };
#endif

// T0 -10C
BATTERY_PROFILE_STRUC battery_profile_t0[] =
{
	{0  , 4187},
	{2  , 4161},
	{3  , 4150},
	{5  , 4130},
	{7  , 4112},
	{8  , 4094},
	{9  , 4085},
	{10 , 4076},
	{11 , 4068},
	{13 , 4054},
	{15 , 4036},
	{16 , 4027},
	{18 , 4010},
	{20 , 3996},
	{21 , 3989},
	{23 , 3977},
	{25 , 3958},
	{26 , 3952},
	{28 , 3940},
	{30 , 3929},
	{31 , 3923},
	{33 , 3912},
	{34 , 3907},
	{36 , 3896},
	{38 , 3884},
	{39 , 3878},
	{41 , 3856},
	{43 , 3840},
	{44 , 3833},
	{46 , 3824},
	{48 , 3815},
	{49 , 3812},
	{51 , 3805},
	{53 , 3799},
	{54 , 3796},
	{56 , 3791},
	{57 , 3787},
	{59 , 3783},
	{61 , 3779},
	{62 , 3777},
	{64 , 3774},
	{66 , 3771},
	{67 , 3770},
	{69 , 3768},
	{71 , 3765},
	{72 , 3759},
	{74 , 3754},
	{76 , 3748},
	{77 , 3744},
	{79 , 3738},
	{80 , 3735},
	{82 , 3728},
	{84 , 3718},
	{85 , 3712},
	{87 , 3703},
	{89 , 3683},
	{90 , 3680},
	{92 , 3677},
	{94 , 3671},
	{95 , 3665},
	{97 , 3613},
	{99 , 3506},
	{100, 3427}
	
};
        
// T1 0C 
BATTERY_PROFILE_STRUC battery_profile_t1[] =
{
	{0  , 4187},
	{2  , 4161},
	{3  , 4150},
	{5  , 4130},
	{7  , 4112},
	{8  , 4094},
	{9  , 4085},
	{10 , 4076},
	{11 , 4068},
	{13 , 4054},
	{15 , 4036},
	{16 , 4027},
	{18 , 4010},
	{20 , 3996},
	{21 , 3989},
	{23 , 3977},
	{25 , 3958},
	{26 , 3952},
	{28 , 3940},
	{30 , 3929},
	{31 , 3923},
	{33 , 3912},
	{34 , 3907},
	{36 , 3896},
	{38 , 3884},
	{39 , 3878},
	{41 , 3856},
	{43 , 3840},
	{44 , 3833},
	{46 , 3824},
	{48 , 3815},
	{49 , 3812},
	{51 , 3805},
	{53 , 3799},
	{54 , 3796},
	{56 , 3791},
	{57 , 3787},
	{59 , 3783},
	{61 , 3779},
	{62 , 3777},
	{64 , 3774},
	{66 , 3771},
	{67 , 3770},
	{69 , 3768},
	{71 , 3765},
	{72 , 3759},
	{74 , 3754},
	{76 , 3748},
	{77 , 3744},
	{79 , 3738},
	{80 , 3735},
	{82 , 3728},
	{84 , 3718},
	{85 , 3712},
	{87 , 3703},
	{89 , 3683},
	{90 , 3680},
	{92 , 3677},
	{94 , 3671},
	{95 , 3665},
	{97 , 3613},
	{99 , 3506},
	{100, 3427}
	
   };

// T2 25C
BATTERY_PROFILE_STRUC battery_profile_t2[] =
{
	{0  , 4187},
	{2  , 4161},
	{3  , 4150},
	{5  , 4130},
	{7  , 4112},
	{8  , 4094},
	{9  , 4085},
	{10 , 4076},
	{11 , 4068},
	{13 , 4054},
	{15 , 4036},
	{16 , 4027},
	{18 , 4010},
	{20 , 3996},
	{21 , 3989},
	{23 , 3977},
	{25 , 3958},
	{26 , 3952},
	{28 , 3940},
	{30 , 3929},
	{31 , 3923},
	{33 , 3912},
	{34 , 3907},
	{36 , 3896},
	{38 , 3884},
	{39 , 3878},
	{41 , 3856},
	{43 , 3840},
	{44 , 3833},
	{46 , 3824},
	{48 , 3815},
	{49 , 3812},
	{51 , 3805},
	{53 , 3799},
	{54 , 3796},
	{56 , 3791},
	{57 , 3787},
	{59 , 3783},
	{61 , 3779},
	{62 , 3777},
	{64 , 3774},
	{66 , 3771},
	{67 , 3770},
	{69 , 3768},
	{71 , 3765},
	{72 , 3759},
	{74 , 3754},
	{76 , 3748},
	{77 , 3744},
	{79 , 3738},
	{80 , 3735},
	{82 , 3728},
	{84 , 3718},
	{85 , 3712},
	{87 , 3703},
	{89 , 3683},
	{90 , 3680},
	{92 , 3677},
	{94 , 3671},
	{95 , 3665},
	{97 , 3613},
	{99 , 3506},
	{100, 3427}
	
   };

// T3 50C
BATTERY_PROFILE_STRUC battery_profile_t3[] =
{
	{0  , 4187},
	{2  , 4161},
	{3  , 4150},
	{5  , 4130},
	{7  , 4112},
	{8  , 4094},
	{9  , 4085},
	{10 , 4076},
	{11 , 4068},
	{13 , 4054},
	{15 , 4036},
	{16 , 4027},
	{18 , 4010},
	{20 , 3996},
	{21 , 3989},
	{23 , 3977},
	{25 , 3958},
	{26 , 3952},
	{28 , 3940},
	{30 , 3929},
	{31 , 3923},
	{33 , 3912},
	{34 , 3907},
	{36 , 3896},
	{38 , 3884},
	{39 , 3878},
	{41 , 3856},
	{43 , 3840},
	{44 , 3833},
	{46 , 3824},
	{48 , 3815},
	{49 , 3812},
	{51 , 3805},
	{53 , 3799},
	{54 , 3796},
	{56 , 3791},
	{57 , 3787},
	{59 , 3783},
	{61 , 3779},
	{62 , 3777},
	{64 , 3774},
	{66 , 3771},
	{67 , 3770},
	{69 , 3768},
	{71 , 3765},
	{72 , 3759},
	{74 , 3754},
	{76 , 3748},
	{77 , 3744},
	{79 , 3738},
	{80 , 3735},
	{82 , 3728},
	{84 , 3718},
	{85 , 3712},
	{87 , 3703},
	{89 , 3683},
	{90 , 3680},
	{92 , 3677},
	{94 , 3671},
	{95 , 3665},
	{97 , 3613},
	{99 , 3506},
	{100, 3427}
   };

// battery profile for actual temperature. The size should be the same as T1, T2 and T3
BATTERY_PROFILE_STRUC battery_profile_temperature[] =
{
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0}
};    

// ============================================================
// <Rbat, Battery_Voltage> Table
// ============================================================
// T0 -10C
R_PROFILE_STRUC r_profile_t0[] =
{
    {97 , 4187},
	{97 , 4161},
	{98 , 4150},
	{99 , 4130},
	{101, 4112},
	{102, 4094},
	{103, 4085},
	{104, 4076},
	{105, 4068},
	{107, 4054},
	{108, 4036},
	{107, 4027},
	{108, 4010},
	{110, 3996},
	{111, 3989},
	{112, 3977},
	{112, 3958},
	{113, 3952},
	{114, 3940},
	{115, 3929},
	{116, 3923},
	{117, 3912},
	{117, 3907},
	{119, 3896},
	{119, 3884},
	{118, 3878},
	{111, 3856},
	{104, 3840},
	{101, 3833},
	{100, 3824},
	{99 , 3815},
	{100, 3812},
	{102, 3805},
	{100, 3799},
	{100, 3796},
	{101, 3791},
	{101, 3787},
	{102, 3783},
	{103, 3779},
	{103, 3777},
	{104, 3774},
	{104, 3771},
	{104, 3770},
	{104, 3768},
	{104, 3765},
	{103, 3759},
	{103, 3754},
	{104, 3748},
	{104, 3738},
	{105, 3735},
	{105, 3728},
	{106, 3718},
	{105, 3712},
	{108, 3703},
	{105, 3683},
	{106, 3680},
	{112, 3677},
	{120, 3671},
	{125, 3665},
	{119, 3613},
	{131, 3506},
	{146, 3427}
   };

// T1 0C
R_PROFILE_STRUC r_profile_t1[] =
{
     {97 , 4187},
	{97 , 4161},
	{98 , 4150},
	{99 , 4130},
	{101, 4112},
	{102, 4094},
	{103, 4085},
	{104, 4076},
	{105, 4068},
	{107, 4054},
	{108, 4036},
	{107, 4027},
	{108, 4010},
	{110, 3996},
	{111, 3989},
	{112, 3977},
	{112, 3958},
	{113, 3952},
	{114, 3940},
	{115, 3929},
	{116, 3923},
	{117, 3912},
	{117, 3907},
	{119, 3896},
	{119, 3884},
	{118, 3878},
	{111, 3856},
	{104, 3840},
	{101, 3833},
	{100, 3824},
	{99 , 3815},
	{100, 3812},
	{102, 3805},
	{100, 3799},
	{100, 3796},
	{101, 3791},
	{101, 3787},
	{102, 3783},
	{103, 3779},
	{103, 3777},
	{104, 3774},
	{104, 3771},
	{104, 3770},
	{104, 3768},
	{104, 3765},
	{103, 3759},
	{103, 3754},
	{104, 3748},
	{104, 3738},
	{105, 3735},
	{105, 3728},
	{106, 3718},
	{105, 3712},
	{108, 3703},
	{105, 3683},
	{106, 3680},
	{112, 3677},
	{120, 3671},
	{125, 3665},
	{119, 3613},
	{131, 3506},
	{146, 3427}
   };

// T2 25C
R_PROFILE_STRUC r_profile_t2[] =
{
	 {97 , 4187},
	{97 , 4161},
	{98 , 4150},
	{99 , 4130},
	{101, 4112},
	{102, 4094},
	{103, 4085},
	{104, 4076},
	{105, 4068},
	{107, 4054},
	{108, 4036},
	{107, 4027},
	{108, 4010},
	{110, 3996},
	{111, 3989},
	{112, 3977},
	{112, 3958},
	{113, 3952},
	{114, 3940},
	{115, 3929},
	{116, 3923},
	{117, 3912},
	{117, 3907},
	{119, 3896},
	{119, 3884},
	{118, 3878},
	{111, 3856},
	{104, 3840},
	{101, 3833},
	{100, 3824},
	{99 , 3815},
	{100, 3812},
	{102, 3805},
	{100, 3799},
	{100, 3796},
	{101, 3791},
	{101, 3787},
	{102, 3783},
	{103, 3779},
	{103, 3777},
	{104, 3774},
	{104, 3771},
	{104, 3770},
	{104, 3768},
	{104, 3765},
	{103, 3759},
	{103, 3754},
	{104, 3748},
	{104, 3738},
	{105, 3735},
	{105, 3728},
	{106, 3718},
	{105, 3712},
	{108, 3703},
	{105, 3683},
	{106, 3680},
	{112, 3677},
	{120, 3671},
	{125, 3665},
	{119, 3613},
	{131, 3506},
	{146, 3427}
   };

// T3 50C
R_PROFILE_STRUC r_profile_t3[] =
{
	 {97 , 4187},
	{97 , 4161},
	{98 , 4150},
	{99 , 4130},
	{101, 4112},
	{102, 4094},
	{103, 4085},
	{104, 4076},
	{105, 4068},
	{107, 4054},
	{108, 4036},
	{107, 4027},
	{108, 4010},
	{110, 3996},
	{111, 3989},
	{112, 3977},
	{112, 3958},
	{113, 3952},
	{114, 3940},
	{115, 3929},
	{116, 3923},
	{117, 3912},
	{117, 3907},
	{119, 3896},
	{119, 3884},
	{118, 3878},
	{111, 3856},
	{104, 3840},
	{101, 3833},
	{100, 3824},
	{99 , 3815},
	{100, 3812},
	{102, 3805},
	{100, 3799},
	{100, 3796},
	{101, 3791},
	{101, 3787},
	{102, 3783},
	{103, 3779},
	{103, 3777},
	{104, 3774},
	{104, 3771},
	{104, 3770},
	{104, 3768},
	{104, 3765},
	{103, 3759},
	{103, 3754},
	{104, 3748},
	{104, 3738},
	{105, 3735},
	{105, 3728},
	{106, 3718},
	{105, 3712},
	{108, 3703},
	{105, 3683},
	{106, 3680},
	{112, 3677},
	{120, 3671},
	{125, 3665},
	{119, 3613},
	{131, 3506},
	{146, 3427}
   };

// r-table profile for actual temperature. The size should be the same as T1, T2 and T3
R_PROFILE_STRUC r_profile_temperature[] =
{
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0},
	{0, 0}
};    

// ============================================================
// function prototype
// ============================================================
int fgauge_get_saddles(void);
BATTERY_PROFILE_STRUC_P fgauge_get_profile(kal_uint32 temperature);

int fgauge_get_saddles_r_table(void);
R_PROFILE_STRUC_P fgauge_get_profile_r_table(kal_uint32 temperature);

#endif	//#ifndef _CUST_BATTERY_METER_TABLE_H

